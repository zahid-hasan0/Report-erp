<link rel="stylesheet" href="assets/css/emb-report.css">

<div id="emb-report-module" class="py-4">
    <div class="container-main px-4">
        <!-- Stats Dashboard -->
        <div class="row g-3 mb-4">
            <div class="col-md-3">
                <div class="card border-0 shadow-sm p-3 bg-primary text-white">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <div class="small opacity-75 fw-bold">TOTAL REPORTS</div>
                            <h3 class="mb-0 fw-bold" id="stat-total-reports">0</h3>
                        </div>
                        <i class="fas fa-file-alt fa-2x opacity-50"></i>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card border-0 shadow-sm p-3 bg-warning text-dark">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <div class="small opacity-75 fw-bold">PENDING JOBS</div>
                            <h3 class="mb-0 fw-bold" id="stat-pending-jobs">0</h3>
                        </div>
                        <i class="fas fa-clock fa-2x opacity-50"></i>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card border-0 shadow-sm p-3 bg-success text-white">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <div class="small opacity-75 fw-bold">APPROVED JOBS</div>
                            <h3 class="mb-0 fw-bold" id="stat-approved-jobs">0</h3>
                        </div>
                        <i class="fas fa-check-circle fa-2x opacity-50"></i>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card border-0 shadow-sm p-3 bg-danger text-white">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <div class="small opacity-75 fw-bold">ISSUES/REJECTED</div>
                            <h3 class="mb-0 fw-bold" id="stat-rejected-jobs">0</h3>
                        </div>
                        <i class="fas fa-exclamation-triangle fa-2x opacity-50"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Database Records Section -->
        <div class="panel-card animate mt-0">
            <div class="panel-header d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center gap-2">
                    <i class="fas fa-database me-2"></i>
                    <span>EMB SUBMISSION RECORDS</span>
                </div>
                <div class="d-flex gap-2">
                    <button class="btn btn-light btn-sm fw-bold text-primary" id="whatsappFullBtn">
                        <i class="fab fa-whatsapp me-1"></i> Full Report
                    </button>
                    <button class="btn btn-outline-light btn-sm fw-bold" id="exportDbExcel">
                        <i class="fas fa-file-excel me-1"></i> Export
                    </button>
                </div>
            </div>

            <div class="toolbar d-flex flex-wrap gap-3 py-3 px-4 bg-white border-bottom align-items-center">
                <div class="input-group" style="max-width: 300px;">
                    <span class="input-group-text bg-light border-0"><i class="fas fa-search text-muted"></i></span>
                    <input type="text" id="searchInput"
                        class="form-control bg-light border-0 shadow-none border-start-0"
                        placeholder="Search Job, Buyer, WO...">
                </div>
                <div class="ms-auto d-flex gap-2 align-items-center">
                    <span class="text-muted small fw-bold">Entries:</span>
                    <select class="form-select form-select-sm border-0 bg-light" id="pageSizeSelect"
                        style="width: 80px;">
                        <option value="10">10</option>
                        <option value="25" selected>25</option>
                        <option value="50">50</option>
                    </select>
                </div>
            </div>

            <div class="panel-body p-0">
                <div class="table-responsive">
                    <table class="table table-gms table-hover mb-0">
                        <thead>
                            <tr>
                                <th style="width: 50px;">SL</th>
                                <th style="width: 130px;">JOB NO</th>
                                <th style="width: 150px;">BUYER</th>
                                <th style="width: 130px;">WO #</th>
                                <th style="width: 120px;">STATUS</th>
                                <th style="min-width: 250px;">COMMENTS</th>
                                <th style="width: 110px;">SUBMITTED</th>
                                <th class="text-end" style="width: 140px;">ACTION</th>
                            </tr>
                        </thead>
                        <tbody id="dbReportTable"></tbody>
                    </table>
                </div>
                <div id="dbPagination" class="py-3 px-4 d-flex justify-content-between align-items-center bg-light">
                    <!-- Pagination populated via JS -->
                </div>
            </div>
        </div>
    </div>
</div>